(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(6),a=n.n(c),s=(n(11),n(3)),o=n.n(s),u=n(4),i=n(2),l=(n(13),n(0)),p=function(e){var t=e.dataSelect,n=e.setCurr,c=e.type,a=e.defaultVal,s=Object(r.useState)(a),o=Object(i.a)(s,2),u=o[0],p=o[1],f=Object(r.useState)(null),b=Object(i.a)(f,2),j=b[0],h=b[1],O=Object(r.useState)(!1),d=Object(i.a)(O,2),m=d[0],v=d[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{className:"search",type:"text",name:"currencies",id:"curr",value:u,onChange:function(e){return function(e){v(!0),h(t);var n=e.target.value;p(n.toUpperCase()),console.log(t);var r=t.filter((function(e){return e.toLowerCase().includes(n.toLowerCase())}));console.log(r),h(r)}(e)},onFocus:function(){v(!0),p("")},maxLength:3}),j&&m&&Object(l.jsx)("ul",{className:"search__list list-group",children:j.map((function(e){return Object(l.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){p(e),n(e,c),v(!1)},children:e},e)}))})]})},f=(n(15),new Headers);f.append("apikey","QcNkBWCbg01lRNKI6H64YumEVU0shxS7");var b={method:"GET",headers:f},j=function(e,t,n){return fetch("https://api.apilayer.com/exchangerates_data/convert?to=".concat(n,"&from=").concat(t,"&amount=").concat(e),b).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)}))},h=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)("UAH"),s=Object(i.a)(a,2),f=s[0],h=s[1],O=Object(r.useState)("USD"),d=Object(i.a)(O,2),m=d[0],v=d[1],x=Object(r.useState)(""),g=Object(i.a)(x,2),y=g[0],k=g[1],S=Object(r.useState)(0),w=Object(i.a)(S,2),C=w[0],N=w[1],_=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.apilayer.com/fixer/symbols",b).then(function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.text());case 2:return n=fetch("".concat("http://free.currconv.com","/api/v7/currencies?apiKey=").concat("dd3f60ee0680556feb45")).then((function(e){return e.json()})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){try{return Object.keys(JSON.parse(e))}catch(t){return console.log(t),Object.keys(e.results)}}));case 2:t=e.sent,console.log(t),c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e,t){switch(t){case"from":h(e);break;case"to":v(e)}},F=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j(y,f,m);case 3:n=e.sent,N(n.result);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){_()}),[]),Object(l.jsxs)("section",{className:"convertor",children:[Object(l.jsx)("h1",{className:"convertor__title",children:"Convertor"}),Object(l.jsx)("label",{htmlFor:"amount",children:Object(l.jsx)("input",{type:"number",name:"amount",id:"amount",value:y,onChange:function(e){return function(e){var t=e.target,n=t.value,r=t.name;switch(console.log(r,n),r){case"selectedFrom":h(n);break;case"selectedTo":v(n);break;case"amount":k(n)}}(e)}})}),Object(l.jsx)(p,{dataSelect:n,setCurr:E,type:"from",defaultVal:f}),Object(l.jsx)("span",{className:"d-inline-block","data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-content":"Invert currencies",children:"convert to"}),Object(l.jsx)(p,{dataSelect:n,setCurr:E,type:"to",defaultVal:m}),Object(l.jsx)("button",{type:"button",onClick:function(e){return F(e)},children:"Convert"}),Object(l.jsx)("p",{children:C})]})};a.a.render(Object(l.jsx)(h,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.388a2824.chunk.js.map