(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{35:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n,r=c(0),a=c(16),s=c.n(a),o=(c(35),c(6)),u=c(9),i=c(5),l=c(12),b=c(27);!function(e){e.SetCurrencies="SetCurrencies",e.SetFrom="SetFrom",e.SetTo="SetTo",e.SetArrDataFilter="SetFilter",e.SetExchangeRates="SetExchangeRates",e.SetBase="SetBase",e.SetRenderOutput="SetRenderOutput",e.SetReverse="SetReverse"}(n||(n={}));var j={currencies:[],fromCurr:"UAH Ukrainian Hryvnia",toCurr:"USD United States Dollar",arrDataFilter:[],exchangeRates:["USD","EUR","PLN","CZK","GBP","UAH"],base:"UAH",renderOutput:!0,reverse:!1},p=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SetCurrencies:return Object(i.a)(Object(i.a)({},e),{},{currencies:[].concat(Object(u.a)(e.currencies),Object(u.a)(t.payload))});case n.SetFrom:return Object(i.a)(Object(i.a)({},e),{},{fromCurr:t.payload});case n.SetTo:return Object(i.a)(Object(i.a)({},e),{},{toCurr:t.payload});case n.SetArrDataFilter:return Object(i.a)(Object(i.a)({},e),{},{arrDataFilter:t.payload});case n.SetExchangeRates:return Object(i.a)(Object(i.a)({},e),{},{exchangeRates:[].concat(Object(u.a)(e.exchangeRates),Object(u.a)(t.payload))});case n.SetBase:return Object(i.a)(Object(i.a)({},e),{},{base:t.payload});case n.SetRenderOutput:return Object(i.a)(Object(i.a)({},e),{},{renderOutput:t.payload});case n.SetReverse:return Object(i.a)(Object(i.a)({},e),{},{reverse:t.payload});default:return e}}),Object(b.a)()),O=c(14),f=c(2),h=(c(45),c(20)),d=c.n(h),m=c(30),x=c(4),v="https://api.apilayer.com/fixer",y=new Headers;y.append("apikey","VrLd2rRsJm6EN0BsvafaQkLbWvU2jl91");var S={method:"GET",headers:y},g=function(){return fetch("".concat(v,"/symbols"),S).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){return Object.entries(e.symbols)}))},N=function(e,t,c){return fetch("".concat(v,"/convert?to=").concat(c.slice(0,3),"&from=").concat(t.slice(0,3),"&amount=").concat(e),S).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)}))},C=function(e){return{type:n.SetFrom,payload:e}},_=function(e){return{type:n.SetTo,payload:e}},k=function(e){return{type:n.SetArrDataFilter,payload:e}},R=function(e){return{type:n.SetRenderOutput,payload:e}},F=function(e){return{type:n.SetReverse,payload:e}},U=function(e){return e.currencies},w=function(e){return e.fromCurr},E=function(e){return e.toCurr},D=function(e){return e.arrDataFilter},L=function(e){return e.exchangeRates},A=function(e){return e.base},B=function(e){return e.renderOutput},T=function(e){return e.reverse},H=(c(47),c(13)),J=c(15),G=c(1),P=function(e){var t=Object(o.b)(),c=e.type,a=Object(o.c)(U),s=Object(o.c)(w),u=Object(o.c)(E),i=Object(o.c)(A),l=Object(o.c)(D),b=Object(o.c)(T),j=Object(r.useState)(s),p=Object(x.a)(j,2),O=p[0],f=p[1],h=Object(r.useState)(u),d=Object(x.a)(h,2),m=d[0],v=d[1],y=Object(r.useState)(i),S=Object(x.a)(y,2),N=S[0],L=S[1],B=Object(r.useState)(!1),P=Object(x.a)(B,2),z=P[0],I=P[1],K=function(e,c){switch(c){case"from":return t(C(e)),f(e),t(k(a)),s;case"to":return t(_(e)),v(e),t(k(a)),u;case"base":return t((r=e,{type:n.SetBase,payload:r})),L(e.slice(0,3)),t(k(a)),i}var r};return Object(r.useEffect)((function(){0===a.length&&g().then((function(e){return t(k(e))})),b&&(f(s),v(u),t(F(!1)))}),[b]),Object(G.jsxs)("div",{className:"search",children:[Object(G.jsxs)("label",{htmlFor:"curr",style:{textTransform:"capitalize"},children:[c,Object(G.jsx)("input",{type:"text",placeholder:"Start typting for filter",className:"search__input",name:"currencies",id:"curr",value:function(e){switch(e){case"from":return O;case"to":return m;case"base":return N.slice(0,3)}}(c),onChange:function(e){return function(e,c){var n=e.target.value;switch(I(!0),c){case"from":f(n.toUpperCase());break;case"to":v(n.toUpperCase());break;case"base":L(n.toUpperCase())}var r=a.filter((function(e){return""===n?e:e[0].toLowerCase().includes(n.toLowerCase())}));console.log(r),t(k(r)),console.log(l)}(e,c)},onFocus:function(){switch(I(!0),t(R(!1)),c){case"from":return f(""),O;case"to":return v(""),m;case"base":return L(""),N}},maxLength:3}),Object(G.jsx)("div",{className:"search__icon",onClick:function(){I((function(e){return!e}))},children:z?Object(G.jsx)(J.a,{icon:H.b}):Object(G.jsx)(J.a,{icon:H.a})})]}),z&&Object(G.jsx)("ul",{className:"search__list list-group",children:l.map((function(e){return Object(G.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){K(e[0],c),I(!1)},children:"".concat(e)},e[0])}))})]})},z=(c(51),function(){var e=Object(o.b)(),t=Object(o.c)(U),c=Object(o.c)(w),a=Object(o.c)(E),s=Object(o.c)(B),u=Object(r.useState)(""),i=Object(x.a)(u,2),l=i[0],b=i[1],j=Object(r.useState)(0),p=Object(x.a)(j,2),O=p[0],f=p[1],h=function(){var n=Object(m.a)(d.a.mark((function n(r){var s,o,u,i;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),isNaN(+l)&&(s=l.replace(/\d/g,"").trim().slice(0,3).toUpperCase(),o=l.replace(/\d/g,"").trim().slice(-3).toUpperCase(),e(C(t.find((function(e){return e[0]===s})).join(" "))),e(_(t.find((function(e){return e[0]===o})).join(" ")))),n.next=4,N(l.replace(/\D/g,""),c.slice(0,3),a.slice(0,3));case 4:return u=n.sent,i=u.result.toFixed(2),e(R(!0)),n.abrupt("return",f(+i));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){0===t.length&&g().then((function(t){return e((c=t,{type:n.SetCurrencies,payload:c}));var c})),e(R(!1))}),[]),Object(G.jsxs)("form",{className:"convertor",children:[Object(G.jsx)("h3",{className:"convertor__title",children:"Currency Convertor"}),Object(G.jsxs)("div",{className:"convertor__conteiner mb-3",children:[Object(G.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Enter Ammount"}),Object(G.jsx)("input",{placeholder:"Example: 100 uah in usd or 100",className:"convertor__input",type:"text",name:"amount",id:"amount",value:l,onChange:function(t){return function(t){var c=t.target,n=c.value;switch(c.name){case"selectedFrom":e(C(n));break;case"selectedTo":e(_(n));break;case"amount":b(n)}}(t)}})]}),Object(G.jsxs)("div",{className:"convertor__selectors",children:[Object(G.jsx)(P,{type:"from"}),Object(G.jsx)("button",{className:"convertor__invert btn btn-primary",type:"button",onClick:function(){var t=c;e(C(a)),e(_(t)),e(F(!0))},children:Object(G.jsx)(J.a,{icon:H.c})}),Object(G.jsx)(P,{type:"to"})]}),Object(G.jsx)("div",{className:"mb-3",children:Object(G.jsx)("button",{type:"button",onClick:function(e){return h(e)},className:"btn btn-primary w-100",children:"Convert"})}),Object(G.jsx)("div",{className:"convertor__inner",children:Object(G.jsx)("h4",{children:s&&"".concat(l," ").concat(c.slice(0,3)," = ").concat(O," ").concat(a.slice(0,3))})})]})}),I=(c(52),function(){var e=Object(o.c)(L),t=Object(o.c)(A),c=Object(r.useState)([]),n=Object(x.a)(c,2),a=n[0],s=n[1],u=a.filter((function(c){return e.includes(c[0])&&c[0]!==t}));return Object(r.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UAH";return fetch("".concat(v,"/latest?base=").concat(e.slice(0,3)),S).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){return e.rates}))})(t).then((function(e){return s(Object.entries(e))}))}),[t]),Object(G.jsxs)("div",{className:"List",children:[Object(G.jsx)("h3",{children:"List Of Exchange Rates"}),Object(G.jsx)(P,{type:"base"}),Object(G.jsx)("ul",{className:"list-group list-group-flush",children:u.map((function(e){return Object(G.jsx)("li",{className:"List__item list-group-item list-group-item-dark",children:"1 ".concat(e[0]," = ").concat((c=e[1],(1/Number(c)).toFixed(2))," ").concat(t.slice(.3))},e[0]);var c}))})]})}),K=function(){return Object(G.jsxs)("div",{className:"app",children:[Object(G.jsxs)("nav",{className:"app__nav",children:[Object(G.jsx)(O.b,{to:"/",className:"app__btn btn btn-pink",role:"button",children:"Calculator"}),Object(G.jsx)(O.b,{to:"/list",className:"app__btn btn btn-pink",role:"button",children:"List Exchange Rates"})]}),Object(G.jsxs)(f.c,{children:[Object(G.jsx)(f.a,{path:"/",element:Object(G.jsx)(z,{})}),Object(G.jsx)(f.a,{path:"/list",element:Object(G.jsx)(I,{})})]})]})};s.a.render(Object(G.jsx)(O.a,{children:Object(G.jsx)(o.a,{store:p,children:Object(G.jsx)(K,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.40158d10.chunk.js.map