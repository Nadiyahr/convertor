(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{34:function(e,t,r){},43:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(19),a=r.n(c),u=(r(34),r(4)),i=r(20),o=r(1),s=r(9),l=Object(o.d)({name:"currencies",initialState:{data:[]},reducers:{loadCurrencies:function(e,t){e.data=t.payload}}}),d=l.actions.loadCurrencies,j=l.reducer,b=Object(o.d)({name:"fromValue",initialState:{value:"UAH Ukrainian Hryvnia"},reducers:{loadFromValue:function(e,t){e.value=t.payload}}}),f=b.actions.loadFromValue,p=b.reducer,m=Object(o.d)({name:"toValue",initialState:{value:"USD United States Dollar"},reducers:{loadToValue:function(e,t){e.value=t.payload}}}),O=m.actions.loadToValue,v=m.reducer,h=Object(o.d)({name:"filtred",initialState:{array:[]},reducers:{loadFiltredCurrenciess:function(e,t){e.array=t.payload}}}),y=h.actions.loadFiltredCurrenciess,x=h.reducer,g=Object(o.d)({name:"baseValue",initialState:{value:"USD"},reducers:{loadBaseValue:function(e,t){e.value=t.payload}}}),_=g.actions.loadBaseValue,N=g.reducer,S=Object(o.d)({name:"render",initialState:{value:!0},reducers:{isShouldRender:function(e,t){e.value=t.payload}}}),C=S.actions.isShouldRender,V=S.reducer,k=Object(o.d)({name:"reverse",initialState:{value:!0},reducers:{isShouldReverse:function(e,t){e.value=t.payload}}}),E=k.actions.isShouldReverse,U=k.reducer,q=r(28),F=Object(q.a)({reducerPath:"api",baseQuery:Object(s.d)({baseUrl:"https://api.apilayer.com/exchangerates_data/",prepareHeaders:function(e){return e.set("apikey","kK7ypooCotCX37FG5EByLS8tADr3v9Xj"),e}}),endpoints:function(e){return{getCurrencies:e.query({query:function(e){return e}}),getExchangeRates:e.query({query:function(e){return e}}),getListRates:e.query({query:function(e){return e}})}}}),L=F.useGetCurrenciesQuery,R=F.useGetExchangeRatesQuery,w=F.useGetListRatesQuery,A=Object(o.d)({name:"prepareString",initialState:{query:""},reducers:{loadPrepareQuery:function(e,t){e.query=t.payload}}}),D=A.actions.loadPrepareQuery,P=A.reducer,Q=Object(o.a)({reducer:Object(i.a)({currencies:j,fromValue:p,toValue:v,filtredCurrencies:x,baseValue:N,render:V,reverse:U,prepareString:P},F.reducerPath,F.reducer),middleware:function(e){return e().concat(F.middleware)}});Object(s.e)(Q.dispatch);var B=r(17),G=r(3),H=r(24),T=r.n(H),z=r(29),Z=r(7),J=r(18),K=r(16),X=(r(43),r(2)),I=function(e){var t,r=Object(u.d)(),c=e.type,a=Object(u.e)((function(e){return e.currencies.data})),i=Object(u.e)((function(e){return e.fromValue.value})),o=Object(u.e)((function(e){return e.toValue.value})),s=Object(u.e)((function(e){return e.baseValue.value})),l=Object(u.e)((function(e){return e.filtredCurrencies.array})),d=Object(u.e)((function(e){return e.reverse.value})),j=Object(n.useState)(i),b=Object(Z.a)(j,2),p=b[0],m=b[1],v=Object(n.useState)(o),h=Object(Z.a)(v,2),x=h[0],g=h[1],N=Object(n.useState)(s),S=Object(Z.a)(N,2),V=S[0],k=S[1],U=Object(n.useState)(!1),q=Object(Z.a)(U,2),F=q[0],L=q[1];return Object(n.useEffect)((function(){d&&(m(i),g(o),r(E(!1)))}),[d]),Object(X.jsxs)("div",{className:"search",children:[Object(X.jsxs)("label",{htmlFor:"curr",style:{textTransform:"capitalize"},children:[c,Object(X.jsx)("input",{type:"text",placeholder:"Start typting for filter",className:"search__input",name:"currencies",id:"curr",value:(t=c,{from:p,to:x,base:V}[t]),onChange:function(e){return function(e,t){var n=e.target.value;L(!0),{from:function(){return m(n.toUpperCase())},to:function(){return g(n.toUpperCase())},base:function(){return k(n.toUpperCase())}}[t](n);var c=a.filter((function(e){return""===n?e:e[0].toLowerCase().includes(n.toLowerCase())}));r(y(c))}(e,c)},onFocus:function(){return e=c,L(!0),r(C(!1)),r(y(a)),{from:function(){return m(""),p},to:function(){return g(""),x},base:function(){return k(""),V}}[e]();var e},maxLength:3}),Object(X.jsx)("div",{className:"search__icon",children:F?Object(X.jsx)(J.a,{icon:K.b}):Object(X.jsx)(J.a,{icon:K.a})})]}),F&&Object(X.jsx)("ul",{className:"search__list list-group",children:l.map((function(e){return Object(X.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){!function(e,t){({from:function(){return r(f(e)),m(e),r(y(a)),i},to:function(){return r(O(e)),g(e),r(y(a)),o},base:function(){return r(_(e.slice(0,3))),k(e.slice(0,3)),r(y(a)),s}})[t]()}(e.join(" "),c),L(!1)},children:"".concat(e.join(" "))},"".concat(e[0]).concat(c))}))})]})},M=function(){var e=Object(u.d)(),t=Object(u.e)((function(e){return e.render.value})),r=Object(u.e)((function(e){return e.prepareString.query})),c=R(r).data;return Object(n.useEffect)((function(){e(C(!0))}),[r]),Object(X.jsx)("h4",{children:c&&t&&"".concat(c.query.amount," ").concat(c.query.from," = ").concat(c.result.toFixed(2)," ").concat(c.query.to)})},W=(r(45),function(){var e=Object(u.d)(),t=Object(u.e)((function(e){return e.prepareString.query})),r=Object(u.e)((function(e){return e.currencies.data})),c=Object(u.e)((function(e){return e.fromValue.value})),a=Object(u.e)((function(e){return e.toValue.value})),i=Object(n.useState)(""),o=Object(Z.a)(i,2),s=o[0],l=o[1],d=function(e){if(!isNaN(+e))return!0;return/^\d+ [A-Z,a-z]{3} in [A-Z,a-z]{3}/g.test(e)},j=function(){var t=Object(z.a)(T.a.mark((function t(){var n,u,i,o;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(s)&&(isNaN(+s)&&(n=s.replace(/\d/g,"").trim().slice(0,3).toUpperCase(),u=s.replace(/\d/g,"").trim().slice(-3).toUpperCase(),e(f(r.find((function(e){return e[0]===n})).join(" "))),e(O(r.find((function(e){return e[0]===u})).join(" ")))),i={amountFrom:s.replace(/\D/g,""),from:c.slice(0,3),to:a.slice(0,3)},o="/convert?to=".concat(i.to,"&from=").concat(i.from,"&amount=").concat(i.amountFrom),e(D(o)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){e(C(!1))}),[]),Object(X.jsxs)("form",{className:"convertor",children:[Object(X.jsx)("h3",{className:"convertor__title",children:"Currency Convertor"}),Object(X.jsxs)("div",{className:"convertor__conteiner mb-3",children:[Object(X.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Enter Ammount"}),Object(X.jsx)("input",{placeholder:"Example: 100 uah in usd or 100",className:"convertor__input",type:"text",name:"amount",id:"amount",value:s,onChange:function(t){return function(t){var r=t.target,n=r.value;switch(r.name){case"selectedFrom":e(f(n));break;case"selectedTo":e(O(n));break;case"amount":l(n)}}(t)}})]}),Object(X.jsxs)("div",{className:"convertor__selectors",children:[Object(X.jsx)(I,{type:"from"}),Object(X.jsx)("button",{className:"convertor__invert btn btn-primary",type:"button",onClick:function(){var t=c;e(f(a)),e(O(t)),e(E(!0)),e(C(!1)),j()},children:Object(X.jsx)(J.a,{icon:K.c})}),Object(X.jsx)(I,{type:"to"})]}),Object(X.jsx)("div",{className:"mb-3",children:Object(X.jsx)("button",{type:"button",onClick:function(){return j()},className:"btn btn-primary w-100",children:"Convert"})}),Object(X.jsx)("div",{className:"convertor__inner",children:t&&Object(X.jsx)(M,{})})]})}),Y=(r(46),function(){var e=Object(u.e)((function(e){return e.baseValue.value})),t=["USD","EUR","PLN","CZK","GBP","UAH"],r="latest?symbols=".concat(t.join(","),"&base=").concat(e),c=w(r).data,a=Object(n.useState)([]),i=Object(Z.a)(a,2),o=i[0],s=i[1],l=o.filter((function(r){return t.includes(r[0])&&r[0]!==e}));return Object(n.useEffect)((function(){s(Object.entries((null===c||void 0===c?void 0:c.rates)||{}))}),[e,c]),Object(X.jsxs)("div",{className:"List",children:[Object(X.jsx)("h3",{children:"List Of Exchange Rates"}),Object(X.jsx)(I,{type:"base"}),Object(X.jsx)("ul",{className:"list-group list-group-flush",children:o.length>0&&l.map((function(t){return Object(X.jsx)("li",{className:"List__item list-group-item list-group-item-dark",children:"1 ".concat(t[0]," = ").concat((r=t[1],(1/Number(r)).toFixed(2))," ").concat(e)},t[0]);var r}))})]})}),$=(r(47),function(){var e=Object(u.d)(),t=L("symbols").data,r=Object.entries((null===t||void 0===t?void 0:t.symbols)||{});return Object(n.useEffect)((function(){e(d(r))}),[r]),Object(X.jsxs)("div",{className:"app",children:[Object(X.jsxs)("nav",{className:"app__nav",children:[Object(X.jsx)(B.b,{to:"/",className:"app__btn btn btn-pink",role:"button",children:"Calculator"}),Object(X.jsx)(B.b,{to:"/list",className:"app__btn btn btn-pink",role:"button",children:"List Exchange Rates"})]}),Object(X.jsxs)(G.c,{children:[Object(X.jsx)(G.a,{path:"/",element:Object(X.jsx)(W,{})}),Object(X.jsx)(G.a,{path:"/list",element:Object(X.jsx)(Y,{})})]})]})});a.a.render(Object(X.jsx)(B.a,{children:Object(X.jsx)(u.a,{store:Q,children:Object(X.jsx)($,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.9ed1d8a8.chunk.js.map