(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{34:function(e,t,r){},43:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(19),a=r.n(n),s=(r(34),r(4)),u=r(20),i=r(1),o=r(9),l=Object(i.d)({name:"currencies",initialState:{data:[]},reducers:{loadCurrencies:function(e,t){e.data=t.payload}}}),d=l.actions.loadCurrencies,b=l.reducer,j=Object(i.d)({name:"fromValue",initialState:{value:"UAH Ukrainian Hryvnia"},reducers:{loadFromValue:function(e,t){e.value=t.payload}}}),f=j.actions.loadFromValue,p=j.reducer,m=Object(i.d)({name:"toValue",initialState:{value:"USD United States Dollar"},reducers:{loadToValue:function(e,t){e.value=t.payload}}}),O=m.actions.loadToValue,h=m.reducer,v=Object(i.d)({name:"filtred",initialState:{array:[]},reducers:{loadFiltredCurrenciess:function(e,t){e.array=t.payload}}}),x=v.actions.loadFiltredCurrenciess,y=v.reducer,g=Object(i.d)({name:"baseValue",initialState:{value:"USD United States Dollar"},reducers:{loadBaseValue:function(e,t){e.value=t.payload}}}),N=g.actions.loadBaseValue,_=g.reducer,S=Object(i.d)({name:"render",initialState:{value:!0},reducers:{isShouldRender:function(e,t){e.value=t.payload}}}),C=S.actions.isShouldRender,V=S.reducer,k=Object(i.d)({name:"reverse",initialState:{value:!0},reducers:{isShouldReverse:function(e,t){e.value=t.payload}}}),U=k.actions.isShouldReverse,q=k.reducer,w=r(28),E=Object(w.a)({reducerPath:"api",baseQuery:Object(o.d)({baseUrl:"https://api.apilayer.com/exchangerates_data/",prepareHeaders:function(e){return e.set("apikey","VrLd2rRsJm6EN0BsvafaQkLbWvU2jl91"),e}}),endpoints:function(e){return{getCurrencies:e.query({query:function(e){return e}}),getExchangeRates:e.query({query:function(e){return e}}),getListRares:e.query({query:function(e){return e}})}}}),F=E.useGetCurrenciesQuery,L=E.useGetExchangeRatesQuery,R=E.useGetListRaresQuery,Q=Object(i.d)({name:"prepareString",initialState:{query:""},reducers:{loadPrepareQuery:function(e,t){e.query=t.payload}}}),D=Q.actions.loadPrepareQuery,P=Q.reducer,A=Object(i.a)({reducer:Object(u.a)({currencies:b,fromValue:p,toValue:h,filtredCurrencies:y,baseValue:_,render:V,reverse:q,prepareString:P},E.reducerPath,E.reducer),middleware:function(e){return e().concat(E.middleware)}});Object(o.e)(A.dispatch);var B=r(17),G=r(3),H=r(24),T=r.n(H),z=r(29),J=r(7),Z=r(18),I=r(16),K=(r(43),r(2)),W=function(e){var t=Object(s.d)(),r=e.type,n=Object(s.e)((function(e){return e.currencies.data})),a=Object(s.e)((function(e){return e.fromValue.value})),u=Object(s.e)((function(e){return e.toValue.value})),i=Object(s.e)((function(e){return e.baseValue.value})),o=Object(s.e)((function(e){return e.filtredCurrencies.array})),l=Object(s.e)((function(e){return e.reverse.value})),d=Object(c.useState)(a),b=Object(J.a)(d,2),j=b[0],p=b[1],m=Object(c.useState)(u),h=Object(J.a)(m,2),v=h[0],y=h[1],g=Object(c.useState)(i),_=Object(J.a)(g,2),S=_[0],V=_[1],k=Object(c.useState)(!1),q=Object(J.a)(k,2),w=q[0],E=q[1];return Object(c.useEffect)((function(){l&&(p(a),y(u),t(U(!1)))}),[l]),Object(K.jsxs)("div",{className:"search",children:[Object(K.jsxs)("label",{htmlFor:"curr",style:{textTransform:"capitalize"},children:[r,Object(K.jsx)("input",{type:"text",placeholder:"Start typting for filter",className:"search__input",name:"currencies",id:"curr",value:function(e){switch(e){case"from":return j;case"to":return v;case"base":return S.slice(0,3)}}(r),onChange:function(e){return function(e,r){var c=e.target.value;switch(E(!0),r){case"from":p(c.toUpperCase());break;case"to":y(c.toUpperCase());break;case"base":V(c.toUpperCase())}var a=n.filter((function(e){return""===c?e:e[0].toLowerCase().includes(c.toLowerCase())}));t(x(a))}(e,r)},onFocus:function(){return function(e){switch(E(!0),t(C(!1)),t(x(n)),e){case"from":return p(""),j;case"to":return y(""),v;case"base":return V(""),S}}(r)},maxLength:3}),Object(K.jsx)("div",{className:"search__icon",children:w?Object(K.jsx)(Z.a,{icon:I.b}):Object(K.jsx)(Z.a,{icon:I.a})})]}),w&&Object(K.jsx)("ul",{className:"search__list list-group",children:o.map((function(e){return Object(K.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){!function(e,r){switch(r){case"from":return t(f(e)),p(e),t(x(n)),a;case"to":return t(O(e)),y(e),t(x(n)),u;case"base":t(N(e)),V(e.slice(0,3)),t(x(n))}}(e.join(" "),r),E(!1)},children:"".concat(e.join(" "))},"".concat(e[0]).concat(r))}))})]})},M=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.render.value})),r=Object(s.e)((function(e){return e.prepareString.query})),n=L(r).data;return Object(c.useEffect)((function(){e(C(!0))}),[r]),Object(K.jsx)("h4",{children:n&&t&&"".concat(n.query.amount," ").concat(n.query.from," = ").concat(n.result.toFixed(2)," ").concat(n.query.to)})},X=(r(45),function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.prepareString.query})),r=Object(s.e)((function(e){return e.currencies.data})),n=Object(s.e)((function(e){return e.fromValue.value})),a=Object(s.e)((function(e){return e.toValue.value})),u=Object(c.useState)(""),i=Object(J.a)(u,2),o=i[0],l=i[1],d=function(e){if(!isNaN(+e))return!0;return/^\d+ [A-Z,a-z]{3} in [A-Z,a-z]{3}/g.test(e)},b=function(){var t=Object(z.a)(T.a.mark((function t(){var c,s,u,i;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(o)&&(isNaN(+o)&&(c=o.replace(/\d/g,"").trim().slice(0,3).toUpperCase(),s=o.replace(/\d/g,"").trim().slice(-3).toUpperCase(),e(f(r.find((function(e){return e[0]===c})).join(" "))),e(O(r.find((function(e){return e[0]===s})).join(" ")))),u={amountFrom:o.replace(/\D/g,""),from:n.slice(0,3),to:a.slice(0,3)},i="/convert?to=".concat(u.to,"&from=").concat(u.from,"&amount=").concat(u.amountFrom),e(D(i)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){e(C(!1))}),[]),Object(K.jsxs)("form",{className:"convertor",children:[Object(K.jsx)("h3",{className:"convertor__title",children:"Currency Convertor"}),Object(K.jsxs)("div",{className:"convertor__conteiner mb-3",children:[Object(K.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Enter Ammount"}),Object(K.jsx)("input",{placeholder:"Example: 100 uah in usd or 100",className:"convertor__input",type:"text",name:"amount",id:"amount",value:o,onChange:function(t){return function(t){var r=t.target,c=r.value;switch(r.name){case"selectedFrom":e(f(c));break;case"selectedTo":e(O(c));break;case"amount":l(c)}}(t)}})]}),Object(K.jsxs)("div",{className:"convertor__selectors",children:[Object(K.jsx)(W,{type:"from"}),Object(K.jsx)("button",{className:"convertor__invert btn btn-primary",type:"button",onClick:function(){var t=n;e(f(a)),e(O(t)),e(U(!0)),e(C(!1)),b()},children:Object(K.jsx)(Z.a,{icon:I.c})}),Object(K.jsx)(W,{type:"to"})]}),Object(K.jsx)("div",{className:"mb-3",children:Object(K.jsx)("button",{type:"button",onClick:function(){return b()},className:"btn btn-primary w-100",children:"Convert"})}),Object(K.jsx)("div",{className:"convertor__inner",children:t&&Object(K.jsx)(M,{})})]})}),Y=(r(46),function(){var e=Object(s.e)((function(e){return e.baseValue.value})),t=["USD","EUR","PLN","CZK","GBP","UAH"],r="latest?symbols=".concat(t.join(","),"&base=").concat(e.slice(0,3)),n=R(r).data,a=Object(c.useState)([]),u=Object(J.a)(a,2),i=u[0],o=u[1],l=i.filter((function(r){return t.includes(r[0].slice(-3))&&r[0].slice(-3)!==e}));return Object(c.useEffect)((function(){n&&o(Object.entries(n.quotes))}),[e]),Object(K.jsxs)("div",{className:"List",children:[Object(K.jsx)("h3",{children:"List Of Exchange Rates"}),Object(K.jsx)(W,{type:"base"}),Object(K.jsx)("ul",{className:"list-group list-group-flush",children:e&&l.map((function(t){return Object(K.jsx)("li",{className:"List__item list-group-item list-group-item-dark",children:"1 ".concat(t[0].slice(-3)," = ").concat((r=t[1],(1/Number(r)).toFixed(2))," ").concat(e.slice(0,3))},t[0]);var r}))})]})}),$=(r(47),function(){var e=Object(s.d)(),t=F("symbols").data,r=Object.entries((null===t||void 0===t?void 0:t.currencies)||{});return Object(c.useEffect)((function(){t&&e(d(r))}),[t]),Object(K.jsxs)("div",{className:"app",children:[Object(K.jsxs)("nav",{className:"app__nav",children:[Object(K.jsx)(B.b,{to:"/",className:"app__btn btn btn-pink",role:"button",children:"Calculator"}),Object(K.jsx)(B.b,{to:"/list",className:"app__btn btn btn-pink",role:"button",children:"List Exchange Rates"})]}),Object(K.jsxs)(G.c,{children:[Object(K.jsx)(G.a,{path:"/",element:Object(K.jsx)(X,{})}),Object(K.jsx)(G.a,{path:"/list",element:Object(K.jsx)(Y,{})})]})]})});a.a.render(Object(K.jsx)(B.a,{children:Object(K.jsx)(s.a,{store:A,children:Object(K.jsx)($,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.bae9ee43.chunk.js.map