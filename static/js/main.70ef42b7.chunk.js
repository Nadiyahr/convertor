(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{35:function(e,t,c){},46:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var r,n=c(0),a=c(16),s=c.n(a),o=(c(35),c(4)),i=c(9),u=c(6),l=c(12),b=c(27);!function(e){e.SetCurrencies="SetCurrencies",e.SetFrom="SetFrom",e.SetTo="SetTo",e.SetArrDataFilter="SetFilter",e.SetExchangeRates="SetExchangeRates",e.SetBase="SetBase",e.SetRenderOutput="SetRenderOutput",e.SetReverse="SetReverse"}(r||(r={}));var j={currencies:[],fromCurr:"UAH Ukrainian Hryvnia",toCurr:"USD United States Dollar",arrDataFilter:[],exchangeRates:["USD","EUR","PLN","CZK","GBP","UAH"],base:"UAH",renderOutput:!0,reverse:!1},p=Object(l.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SetCurrencies:return Object(u.a)(Object(u.a)({},e),{},{currencies:[].concat(Object(i.a)(e.currencies),Object(i.a)(t.payload))});case r.SetFrom:return Object(u.a)(Object(u.a)({},e),{},{fromCurr:t.payload});case r.SetTo:return Object(u.a)(Object(u.a)({},e),{},{toCurr:t.payload});case r.SetArrDataFilter:return Object(u.a)(Object(u.a)({},e),{},{arrDataFilter:t.payload});case r.SetExchangeRates:return Object(u.a)(Object(u.a)({},e),{},{exchangeRates:[].concat(Object(i.a)(e.exchangeRates),Object(i.a)(t.payload))});case r.SetBase:return Object(u.a)(Object(u.a)({},e),{},{base:t.payload});case r.SetRenderOutput:return Object(u.a)(Object(u.a)({},e),{},{renderOutput:t.payload});case r.SetReverse:return Object(u.a)(Object(u.a)({},e),{},{reverse:t.payload});default:return e}}),Object(b.a)()),O=c(14),f=c(2),d="https://api.apilayer.com/exchangerates_data",h=new Headers;h.append("apikey","VrLd2rRsJm6EN0BsvafaQkLbWvU2jl91");var m={method:"GET",headers:h},x=function(e,t,c){return fetch("".concat(d,"/convert?to=").concat(c.slice(0,3),"&from=").concat(t.slice(0,3),"&amount=").concat(e),m).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)}))},v=c(20),y=c.n(v),S=c(30),N=c(5),g=function(e){return{type:r.SetFrom,payload:e}},_=function(e){return{type:r.SetTo,payload:e}},C=function(e){return{type:r.SetArrDataFilter,payload:e}},k=function(e){return{type:r.SetRenderOutput,payload:e}},R=function(e){return{type:r.SetReverse,payload:e}},F=function(e){return e.currencies},E=function(e){return e.fromCurr},U=function(e){return e.toCurr},w=function(e){return e.arrDataFilter},D=function(e){return e.exchangeRates},A=function(e){return e.base},L=function(e){return e.renderOutput},B=function(e){return e.reverse},T=(c(46),c(13)),H=c(15),J=c(1),z=function(e){var t=Object(o.b)(),c=e.type,a=Object(o.c)(F),s=Object(o.c)(E),i=Object(o.c)(U),u=Object(o.c)(A),l=Object(o.c)(w),b=Object(o.c)(B),j=Object(n.useState)(s),p=Object(N.a)(j,2),O=p[0],f=p[1],d=Object(n.useState)(i),h=Object(N.a)(d,2),m=h[0],x=h[1],v=Object(n.useState)(u),y=Object(N.a)(v,2),S=y[0],D=y[1],L=Object(n.useState)(!1),z=Object(N.a)(L,2),Z=z[0],G=z[1],P=function(e,c){switch(c){case"from":return t(g(e)),f(e),t(C(a)),s;case"to":return t(_(e)),x(e),t(C(a)),i;case"base":return t((n=e,{type:r.SetBase,payload:n})),D(e.slice(0,3)),t(C(a)),u}var n};return Object(n.useEffect)((function(){b&&(f(s),x(i),t(R(!1)))}),[b]),Object(J.jsxs)("div",{className:"search",children:[Object(J.jsxs)("label",{htmlFor:"curr",style:{textTransform:"capitalize"},children:[c,Object(J.jsx)("input",{type:"text",placeholder:"Start typting for filter",className:"search__input",name:"currencies",id:"curr",value:function(e){switch(e){case"from":return O;case"to":return m;case"base":return S.slice(0,3)}}(c),onChange:function(e){return function(e,c){var r=e.target.value;switch(G(!0),c){case"from":f(r.toUpperCase());break;case"to":x(r.toUpperCase());break;case"base":D(r.toUpperCase())}var n=a.filter((function(e){return""===r?e:e[0].toLowerCase().includes(r.toLowerCase())}));t(C(n))}(e,c)},onFocus:function(){return function(e){switch(G(!0),t(k(!1)),t(C(a)),e){case"from":return f(""),O;case"to":return x(""),m;case"base":return D(""),S}}(c)},maxLength:3}),Object(J.jsx)("div",{className:"search__icon",children:Z?Object(J.jsx)(H.a,{icon:T.b}):Object(J.jsx)(H.a,{icon:T.a})})]}),Z&&Object(J.jsx)("ul",{className:"search__list list-group",children:l.map((function(e){return Object(J.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){P(e.join(" "),c),G(!1)},children:"".concat(e)},"".concat(e[0]).concat(c))}))})]})},Z=(c(50),function(){var e=Object(o.b)(),t=Object(o.c)(F),c=Object(o.c)(E),r=Object(o.c)(U),a=Object(o.c)(L),s=Object(n.useState)(""),i=Object(N.a)(s,2),u=i[0],l=i[1],b=Object(n.useState)(0),j=Object(N.a)(b,2),p=j[0],O=j[1],f=function(e){if(!isNaN(+e))return!0;return/^\d+ [A-Z,a-z]{3} in [A-Z,a-z]{3}/g.test(e)},d=function(){var n=Object(S.a)(y.a.mark((function n(a){var s,o,i,l;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),!f(u)){n.next=9;break}return isNaN(+u)&&(s=u.replace(/\d/g,"").trim().slice(0,3).toUpperCase(),o=u.replace(/\d/g,"").trim().slice(-3).toUpperCase(),e(g(t.find((function(e){return e[0]===s})).join(" "))),e(_(t.find((function(e){return e[0]===o})).join(" ")))),n.next=5,x(u.replace(/\D/g,""),c.slice(0,3),r.slice(0,3));case 5:return i=n.sent,l=i.result.toFixed(2),e(k(!0)),n.abrupt("return",O(+l));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(n.useEffect)((function(){e(k(!1))}),[]),Object(J.jsxs)("form",{className:"convertor",children:[Object(J.jsx)("h3",{className:"convertor__title",children:"Currency Convertor"}),Object(J.jsxs)("div",{className:"convertor__conteiner mb-3",children:[Object(J.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Enter Ammount"}),Object(J.jsx)("input",{placeholder:"Example: 100 uah in usd or 100",className:"convertor__input",type:"text",name:"amount",id:"amount",value:u,onChange:function(t){return function(t){var c=t.target,r=c.value;switch(c.name){case"selectedFrom":e(g(r));break;case"selectedTo":e(_(r));break;case"amount":l(r)}}(t)}})]}),Object(J.jsxs)("div",{className:"convertor__selectors",children:[Object(J.jsx)(z,{type:"from"}),Object(J.jsx)("button",{className:"convertor__invert btn btn-primary",type:"button",onClick:function(){var t=c;e(g(r)),e(_(t)),e(R(!0))},children:Object(J.jsx)(H.a,{icon:T.c})}),Object(J.jsx)(z,{type:"to"})]}),Object(J.jsx)("div",{className:"mb-3",children:Object(J.jsx)("button",{type:"button",onClick:function(e){return d(e)},className:"btn btn-primary w-100",children:"Convert"})}),Object(J.jsx)("div",{className:"convertor__inner",children:Object(J.jsx)("h4",{children:a&&"".concat(u," ").concat(c.slice(0,3)," = ").concat(p," ").concat(r.slice(0,3))})})]})}),G=(c(51),function(){var e=Object(o.c)(D),t=Object(o.c)(A),c=Object(n.useState)([]),r=Object(N.a)(c,2),a=r[0],s=r[1],i=a.filter((function(c){return e.includes(c[0])&&c[0]!==t}));return Object(n.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UAH";return fetch("".concat(d,"/latest?base=").concat(e.slice(0,3)),m).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){return e.rates}))})(t).then((function(e){return s(Object.entries(e))}))}),[t]),Object(J.jsxs)("div",{className:"List",children:[Object(J.jsx)("h3",{children:"List Of Exchange Rates"}),Object(J.jsx)(z,{type:"base"}),Object(J.jsx)("ul",{className:"list-group list-group-flush",children:i.map((function(e){return Object(J.jsx)("li",{className:"List__item list-group-item list-group-item-dark",children:"1 ".concat(e[0]," = ").concat((c=e[1],(1/Number(c)).toFixed(2))," ").concat(t.slice(0,3))},e[0]);var c}))})]})}),P=(c(52),function(){var e=Object(o.b)();return Object(n.useEffect)((function(){fetch("".concat(d,"/symbols"),m).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){return Object.entries(e.symbols)})).then((function(t){return e((c=t,{type:r.SetCurrencies,payload:c}));var c}))}),[]),Object(J.jsxs)("div",{className:"app",children:[Object(J.jsxs)("nav",{className:"app__nav",children:[Object(J.jsx)(O.b,{to:"/",className:"app__btn btn btn-pink",role:"button",children:"Calculator"}),Object(J.jsx)(O.b,{to:"/list",className:"app__btn btn btn-pink",role:"button",children:"List Exchange Rates"})]}),Object(J.jsxs)(f.c,{children:[Object(J.jsx)(f.a,{path:"/",element:Object(J.jsx)(Z,{})}),Object(J.jsx)(f.a,{path:"/list",element:Object(J.jsx)(G,{})})]})]})});s.a.render(Object(J.jsx)(O.a,{children:Object(J.jsx)(o.a,{store:p,children:Object(J.jsx)(P,{})})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.70ef42b7.chunk.js.map