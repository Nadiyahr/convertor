(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{34:function(e,t,r){},43:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r(19),n=r.n(a),s=(r(34),r(4)),i=r(20),u=r(1),o=r(9),l=Object(u.d)({name:"currencies",initialState:{data:[]},reducers:{loadCurrencies:function(e,t){e.data=t.payload}}}),d=l.actions.loadCurrencies,b=l.reducer,j=Object(u.d)({name:"fromValue",initialState:{value:"UAH Ukrainian Hryvnia"},reducers:{loadFromValue:function(e,t){e.value=t.payload}}}),f=j.actions.loadFromValue,p=j.reducer,m=Object(u.d)({name:"toValue",initialState:{value:"USD United States Dollar"},reducers:{loadToValue:function(e,t){e.value=t.payload}}}),O=m.actions.loadToValue,v=m.reducer,h=Object(u.d)({name:"filtred",initialState:{array:[]},reducers:{loadFiltredCurrenciess:function(e,t){e.array=t.payload}}}),x=h.actions.loadFiltredCurrenciess,y=h.reducer,g=Object(u.d)({name:"baseValue",initialState:{value:"USD United States Dollar"},reducers:{loadBaseValue:function(e,t){e.value=t.payload}}}),N=g.actions.loadBaseValue,_=g.reducer,S=Object(u.d)({name:"render",initialState:{value:!0},reducers:{isShouldRender:function(e,t){e.value=t.payload}}}),C=S.actions.isShouldRender,V=S.reducer,k=Object(u.d)({name:"reverse",initialState:{value:!0},reducers:{isShouldReverse:function(e,t){e.value=t.payload}}}),U=k.actions.isShouldReverse,q=k.reducer,E=r(28),w=Object(E.a)({reducerPath:"api",baseQuery:Object(o.d)({baseUrl:"https://api.apilayer.com/exchangerates_data/",prepareHeaders:function(e){return e.set("apikey","VrLd2rRsJm6EN0BsvafaQkLbWvU2jl91"),e}}),endpoints:function(e){return{getCurrencies:e.query({query:function(e){return e}}),getExchangeRates:e.query({query:function(e){return e}}),getListRares:e.query({query:function(e){return e}})}}}),F=w.useGetCurrenciesQuery,L=w.useGetExchangeRatesQuery,R=w.useGetListRaresQuery,Q=Object(u.d)({name:"prepareString",initialState:{query:""},reducers:{loadPrepareQuery:function(e,t){e.query=t.payload}}}),D=Q.actions.loadPrepareQuery,P=Q.reducer,A=Object(u.a)({reducer:Object(i.a)({currencies:b,fromValue:p,toValue:v,filtredCurrencies:y,baseValue:_,render:V,reverse:q,prepareString:P},w.reducerPath,w.reducer),middleware:function(e){return e().concat(w.middleware)}});Object(o.e)(A.dispatch);var B=r(17),G=r(3),H=r(24),T=r.n(H),z=r(29),J=r(7),Z=r(18),I=r(16),K=(r(43),r(2)),W=function(e){var t,r=Object(s.d)(),a=e.type,n=Object(s.e)((function(e){return e.currencies.data})),i=Object(s.e)((function(e){return e.fromValue.value})),u=Object(s.e)((function(e){return e.toValue.value})),o=Object(s.e)((function(e){return e.baseValue.value})),l=Object(s.e)((function(e){return e.filtredCurrencies.array})),d=Object(s.e)((function(e){return e.reverse.value})),b=Object(c.useState)(i),j=Object(J.a)(b,2),p=j[0],m=j[1],v=Object(c.useState)(u),h=Object(J.a)(v,2),y=h[0],g=h[1],_=Object(c.useState)(o),S=Object(J.a)(_,2),V=S[0],k=S[1],q=Object(c.useState)(!1),E=Object(J.a)(q,2),w=E[0],F=E[1];return console.log(l),console.log(n),Object(c.useEffect)((function(){d&&(m(i),g(u),r(U(!1)))}),[d]),Object(K.jsxs)("div",{className:"search",children:[Object(K.jsxs)("label",{htmlFor:"curr",style:{textTransform:"capitalize"},children:[a,Object(K.jsx)("input",{type:"text",placeholder:"Start typting for filter",className:"search__input",name:"currencies",id:"curr",value:(t=a,{from:p,to:y,base:V.slice(0,3)}[t]),onChange:function(e){return function(e,t){var c=e.target.value;switch(F(!0),t){case"from":m(c.toUpperCase());break;case"to":g(c.toUpperCase());break;case"base":k(c.toUpperCase())}var a=n.filter((function(e){return""===c?e:e[0].toLowerCase().includes(c.toLowerCase())}));r(x(a))}(e,a)},onFocus:function(){return function(e){switch(F(!0),r(C(!1)),r(x(n)),e){case"from":return m(""),p;case"to":return g(""),y;case"base":return k(""),V}}(a)},maxLength:3}),Object(K.jsx)("div",{className:"search__icon",children:w?Object(K.jsx)(Z.a,{icon:I.b}):Object(K.jsx)(Z.a,{icon:I.a})})]}),w&&Object(K.jsx)("ul",{className:"search__list list-group",children:l.map((function(e){return Object(K.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){!function(e,t){switch(t){case"from":return r(f(e)),m(e),r(x(n)),i;case"to":return r(O(e)),g(e),r(x(n)),u;case"base":r(N(e)),k(e.slice(0,3)),r(x(n))}}(e.join(" "),a),F(!1)},children:"".concat(e.join(" "))},"".concat(e[0]).concat(a))}))})]})},M=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.render.value})),r=Object(s.e)((function(e){return e.prepareString.query})),a=L(r).data;return Object(c.useEffect)((function(){e(C(!0))}),[r]),Object(K.jsx)("h4",{children:a&&t&&"".concat(a.query.amount," ").concat(a.query.from," = ").concat(a.result.toFixed(2)," ").concat(a.query.to)})},X=(r(45),function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.prepareString.query})),r=Object(s.e)((function(e){return e.currencies.data})),a=Object(s.e)((function(e){return e.fromValue.value})),n=Object(s.e)((function(e){return e.toValue.value})),i=Object(c.useState)(""),u=Object(J.a)(i,2),o=u[0],l=u[1],d=function(e){if(!isNaN(+e))return!0;return/^\d+ [A-Z,a-z]{3} in [A-Z,a-z]{3}/g.test(e)},b=function(){var t=Object(z.a)(T.a.mark((function t(){var c,s,i,u;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(o)&&(isNaN(+o)&&(c=o.replace(/\d/g,"").trim().slice(0,3).toUpperCase(),s=o.replace(/\d/g,"").trim().slice(-3).toUpperCase(),e(f(r.find((function(e){return e[0]===c})).join(" "))),e(O(r.find((function(e){return e[0]===s})).join(" ")))),i={amountFrom:o.replace(/\D/g,""),from:a.slice(0,3),to:n.slice(0,3)},u="/convert?to=".concat(i.to,"&from=").concat(i.from,"&amount=").concat(i.amountFrom),e(D(u)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){e(C(!1))}),[]),Object(K.jsxs)("form",{className:"convertor",children:[Object(K.jsx)("h3",{className:"convertor__title",children:"Currency Convertor"}),Object(K.jsxs)("div",{className:"convertor__conteiner mb-3",children:[Object(K.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Enter Ammount"}),Object(K.jsx)("input",{placeholder:"Example: 100 uah in usd or 100",className:"convertor__input",type:"text",name:"amount",id:"amount",value:o,onChange:function(t){return function(t){var r=t.target,c=r.value;switch(r.name){case"selectedFrom":e(f(c));break;case"selectedTo":e(O(c));break;case"amount":l(c)}}(t)}})]}),Object(K.jsxs)("div",{className:"convertor__selectors",children:[Object(K.jsx)(W,{type:"from"}),Object(K.jsx)("button",{className:"convertor__invert btn btn-primary",type:"button",onClick:function(){var t=a;e(f(n)),e(O(t)),e(U(!0)),e(C(!1)),b()},children:Object(K.jsx)(Z.a,{icon:I.c})}),Object(K.jsx)(W,{type:"to"})]}),Object(K.jsx)("div",{className:"mb-3",children:Object(K.jsx)("button",{type:"button",onClick:function(){return b()},className:"btn btn-primary w-100",children:"Convert"})}),Object(K.jsx)("div",{className:"convertor__inner",children:t&&Object(K.jsx)(M,{})})]})}),Y=(r(46),function(){var e=Object(s.e)((function(e){return e.baseValue.value})),t=["USD","EUR","PLN","CZK","GBP","UAH"],r="latest?symbols=".concat(t.join(","),"&base=").concat(e.slice(0,3)),a=R(r).data,n=Object(c.useState)([]),i=Object(J.a)(n,2),u=i[0],o=i[1],l=u.filter((function(r){return t.includes(r[0].slice(-3))&&r[0].slice(-3)!==e}));return Object(c.useEffect)((function(){a&&o(Object.entries(a.quotes))}),[e]),Object(K.jsxs)("div",{className:"List",children:[Object(K.jsx)("h3",{children:"List Of Exchange Rates"}),Object(K.jsx)(W,{type:"base"}),Object(K.jsx)("ul",{className:"list-group list-group-flush",children:e&&l.map((function(t){return Object(K.jsx)("li",{className:"List__item list-group-item list-group-item-dark",children:"1 ".concat(t[0].slice(-3)," = ").concat((r=t[1],(1/Number(r)).toFixed(2))," ").concat(e.slice(0,3))},t[0]);var r}))})]})}),$=(r(47),function(){var e=Object(s.d)(),t=F("symbols").data,r=Object.entries((null===t||void 0===t?void 0:t.symbols)||{});return Object(c.useEffect)((function(){e(d(r))}),[r]),Object(K.jsxs)("div",{className:"app",children:[Object(K.jsxs)("nav",{className:"app__nav",children:[Object(K.jsx)(B.b,{to:"/",className:"app__btn btn btn-pink",role:"button",children:"Calculator"}),Object(K.jsx)(B.b,{to:"/list",className:"app__btn btn btn-pink",role:"button",children:"List Exchange Rates"})]}),Object(K.jsxs)(G.c,{children:[Object(K.jsx)(G.a,{path:"/",element:Object(K.jsx)(X,{})}),Object(K.jsx)(G.a,{path:"/list",element:Object(K.jsx)(Y,{})})]})]})});n.a.render(Object(K.jsx)(B.a,{children:Object(K.jsx)(s.a,{store:A,children:Object(K.jsx)($,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.809de045.chunk.js.map