(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{34:function(e,t,r){},43:function(e,t,r){},45:function(e,t,r){},46:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(19),a=r.n(n),s=(r(34),r(4)),i=r(20),u=r(1),o=r(9),l=Object(u.d)({name:"currencies",initialState:{data:[]},reducers:{loadCurrencies:function(e,t){e.data=t.payload}}}),d=l.actions.loadCurrencies,j=l.reducer,b=Object(u.d)({name:"fromValue",initialState:{value:"UAH Ukrainian Hryvnia"},reducers:{loadFromValue:function(e,t){e.value=t.payload}}}),f=b.actions.loadFromValue,p=b.reducer,m=Object(u.d)({name:"toValue",initialState:{value:"USD United States Dollar"},reducers:{loadToValue:function(e,t){e.value=t.payload}}}),O=m.actions.loadToValue,h=m.reducer,v=Object(u.d)({name:"filtred",initialState:{array:[]},reducers:{loadFiltredCurrenciess:function(e,t){e.array=t.payload}}}),x=v.actions.loadFiltredCurrenciess,y=v.reducer,N=Object(u.d)({name:"baseValue",initialState:{value:"USD United States Dollar"},reducers:{loadBaseValue:function(e,t){e.value=t.payload}}}),_=N.actions.loadBaseValue,g=N.reducer,S=Object(u.d)({name:"render",initialState:{value:!0},reducers:{isShouldRender:function(e,t){e.value=t.payload}}}),C=S.actions.isShouldRender,k=S.reducer,V=Object(u.d)({name:"reverse",initialState:{value:!0},reducers:{isShouldReverse:function(e,t){e.value=t.payload}}}),U=V.actions.isShouldReverse,E=V.reducer,w=r(28),F=Object(w.a)({reducerPath:"api",baseQuery:Object(o.d)({baseUrl:"https://api.apilayer.com/currency_data/",prepareHeaders:function(e){return e.set("apikey","VrLd2rRsJm6EN0BsvafaQkLbWvU2jl91"),e}}),tagTypes:["Record"],endpoints:function(e){return{getCurrencies:e.query({query:function(e){return e}}),getExchangeRates:e.query({query:function(e){return e}})}}}),L=F.useGetCurrenciesQuery,R=F.useGetExchangeRatesQuery,q=Object(u.d)({name:"prepareString",initialState:{query:""},reducers:{loadPrepareQuery:function(e,t){e.query=t.payload}}}),Q=q.actions.loadPrepareQuery,B=q.reducer,D=Object(u.a)({reducer:Object(i.a)({currencies:j,fromValue:p,toValue:h,filtredCurrencies:y,baseValue:g,render:k,reverse:E,prepareString:B},F.reducerPath,F.reducer),middleware:function(e){return e().concat(F.middleware)}});Object(o.e)(D.dispatch);var P=r(17),T=r(3),A=r(24),H=r.n(A),J=r(29),G=r(7),z=r(18),Z=r(16),W=(r(43),r(2)),I=function(e){var t=Object(s.d)(),r=e.type,n=Object(s.e)((function(e){return e.currencies.data})),a=Object(s.e)((function(e){return e.fromValue.value})),i=Object(s.e)((function(e){return e.toValue.value})),u=Object(s.e)((function(e){return e.baseValue.value})),o=Object(s.e)((function(e){return e.filtredCurrencies.array})),l=Object(s.e)((function(e){return e.reverse.value})),d=Object(c.useState)(a),j=Object(G.a)(d,2),b=j[0],p=j[1],m=Object(c.useState)(i),h=Object(G.a)(m,2),v=h[0],y=h[1],N=Object(c.useState)(u),g=Object(G.a)(N,2),S=g[0],k=g[1],V=Object(c.useState)(!1),E=Object(G.a)(V,2),w=E[0],F=E[1];return Object(c.useEffect)((function(){l&&(p(a),y(i),t(U(!1)))}),[l]),Object(W.jsxs)("div",{className:"search",children:[Object(W.jsxs)("label",{htmlFor:"curr",style:{textTransform:"capitalize"},children:[r,Object(W.jsx)("input",{type:"text",placeholder:"Start typting for filter",className:"search__input",name:"currencies",id:"curr",value:function(e){switch(e){case"from":return b;case"to":return v;case"base":return S.slice(0,3)}}(r),onChange:function(e){return function(e,r){var c=e.target.value;switch(F(!0),r){case"from":p(c.toUpperCase());break;case"to":y(c.toUpperCase());break;case"base":k(c.toUpperCase())}var a=n.filter((function(e){return""===c?e:e[0].toLowerCase().includes(c.toLowerCase())}));t(x(a))}(e,r)},onFocus:function(){return function(e){switch(F(!0),t(C(!1)),t(x(n)),e){case"from":return p(""),b;case"to":return y(""),v;case"base":return k(""),S}}(r)},maxLength:3}),Object(W.jsx)("div",{className:"search__icon",children:w?Object(W.jsx)(z.a,{icon:Z.b}):Object(W.jsx)(z.a,{icon:Z.a})})]}),w&&Object(W.jsx)("ul",{className:"search__list list-group",children:o.map((function(e){return Object(W.jsx)("li",{className:"search__item list-group-item list-group-item-action",onClick:function(){!function(e,r){switch(r){case"from":return t(f(e)),p(e),t(x(n)),a;case"to":return t(O(e)),y(e),t(x(n)),i;case"base":t(_(e)),k(e.slice(0,3)),t(x(n))}}(e.join(" "),r),F(!1)},children:"".concat(e.join(" "))},"".concat(e[0]).concat(r))}))})]})},K=(r(45),function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.render.value})),r=Object(s.e)((function(e){return e.prepareString.query})),n=R(r).data;return Object(c.useEffect)((function(){e(C(!0))}),[r]),Object(W.jsx)("h4",{children:n&&t&&"".concat(n.query.amount," ").concat(n.query.from," = ").concat(n.result.toFixed(2)," ").concat(n.query.to)})}),M=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.currencies.data})),r=Object(s.e)((function(e){return e.fromValue.value})),n=Object(s.e)((function(e){return e.toValue.value})),a=Object(c.useState)(""),i=Object(G.a)(a,2),u=i[0],o=i[1],l=function(e){if(!isNaN(+e))return!0;return/^\d+ [A-Z,a-z]{3} in [A-Z,a-z]{3}/g.test(e)},d=function(){var c=Object(J.a)(H.a.mark((function c(){var a,s,i,o;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:l(u)&&(isNaN(+u)&&(a=u.replace(/\d/g,"").trim().slice(0,3).toUpperCase(),s=u.replace(/\d/g,"").trim().slice(-3).toUpperCase(),e(f(t.find((function(e){return e[0]===a})).join(" "))),e(O(t.find((function(e){return e[0]===s})).join(" ")))),i={amountFrom:u.replace(/\D/g,""),from:r.slice(0,3),to:n.slice(0,3)},o="/convert?to=".concat(i.to,"&from=").concat(i.from,"&amount=").concat(i.amountFrom),e(Q(o)));case 1:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(c.useEffect)((function(){e(C(!1))}),[]),Object(W.jsxs)("form",{className:"convertor",children:[Object(W.jsx)("h3",{className:"convertor__title",children:"Currency Convertor"}),Object(W.jsxs)("div",{className:"convertor__conteiner mb-3",children:[Object(W.jsx)("label",{htmlFor:"amount",className:"form-label",children:"Enter Ammount"}),Object(W.jsx)("input",{placeholder:"Example: 100 uah in usd or 100",className:"convertor__input",type:"text",name:"amount",id:"amount",value:u,onChange:function(t){return function(t){var r=t.target,c=r.value;switch(r.name){case"selectedFrom":e(f(c));break;case"selectedTo":e(O(c));break;case"amount":o(c)}}(t)}})]}),Object(W.jsxs)("div",{className:"convertor__selectors",children:[Object(W.jsx)(I,{type:"from"}),Object(W.jsx)("button",{className:"convertor__invert btn btn-primary",type:"button",onClick:function(){var t=r;e(f(n)),e(O(t)),e(U(!0)),e(C(!1)),d()},children:Object(W.jsx)(z.a,{icon:Z.c})}),Object(W.jsx)(I,{type:"to"})]}),Object(W.jsx)("div",{className:"mb-3",children:Object(W.jsx)("button",{type:"button",onClick:function(){return d()},className:"btn btn-primary w-100",children:"Convert"})}),Object(W.jsx)("div",{className:"convertor__inner",children:Object(W.jsx)(K,{})})]})},X=new Headers;X.append("apikey","VrLd2rRsJm6EN0BsvafaQkLbWvU2jl91");var Y={method:"GET",headers:X},$=(r(46),function(){Object(s.d)();var e=Object(s.e)((function(e){return e.baseValue.value})),t=Object(c.useState)([]),r=Object(G.a)(t,2),n=r[0],a=r[1],i=["USD","EUR","PLN","CZK","GBP","UAH"],u=n.filter((function(t){return i.includes(t[0])&&t[0]!==e}));return Object(c.useEffect)((function(){var t;(t=e,fetch("".concat("https://api.apilayer.com/fixer","/latest?base=").concat(t.slice(0,3)),Y).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){return e.rates}))).then((function(e){return a(Object.entries(e))}))}),[e]),Object(W.jsxs)("div",{className:"List",children:[Object(W.jsx)("h3",{children:"List Of Exchange Rates"}),Object(W.jsx)(I,{type:"base"}),Object(W.jsx)("ul",{className:"list-group list-group-flush",children:u.map((function(t){return Object(W.jsx)("li",{className:"List__item list-group-item list-group-item-dark",children:"1 ".concat(t[0]," = ").concat((r=t[1],(1/Number(r)).toFixed(2))," ").concat(e.slice(0,3))},t[0]);var r}))})]})}),ee=(r(47),function(){var e=Object(s.d)(),t=L("list").data,r=Object.entries((null===t||void 0===t?void 0:t.currencies)||{});return Object(c.useEffect)((function(){t&&e(d(r))}),[t]),Object(W.jsxs)("div",{className:"app",children:[Object(W.jsxs)("nav",{className:"app__nav",children:[Object(W.jsx)(P.b,{to:"/",className:"app__btn btn btn-pink",role:"button",children:"Calculator"}),Object(W.jsx)(P.b,{to:"/list",className:"app__btn btn btn-pink",role:"button",children:"List Exchange Rates"})]}),Object(W.jsxs)(T.c,{children:[Object(W.jsx)(T.a,{path:"/",element:Object(W.jsx)(M,{})}),Object(W.jsx)(T.a,{path:"/list",element:Object(W.jsx)($,{})})]})]})});a.a.render(Object(W.jsx)(P.a,{children:Object(W.jsx)(s.a,{store:D,children:Object(W.jsx)(ee,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.7422b41c.chunk.js.map